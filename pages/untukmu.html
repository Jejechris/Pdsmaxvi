<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Untukmu</title>
  <meta name="description" content="Sebuah pesan khusus">
  
  <!-- CSS -->
  <link rel="stylesheet" href="../config/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <style>
    /* CSS Variables for Dark/Light Mode - Dark as Default */
    :root {
      --bg-primary: #0c0c0c;
      --bg-secondary: #1a1a2e;
      --bg-tertiary: #16213e;
      --text-primary: #ffffff;
      --text-secondary: #b3b3b3;
      --border-color: #333333;
      --shadow: rgba(0, 0, 0, 0.3);
      --container-bg: rgba(26, 26, 46, 0.95);
      --stars-bg: linear-gradient(135deg, #000000 0%, #0f0f23 50%, #1a1a2e 100%);
      --welcome-bg: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    }

    [data-theme="light"] {
      --bg-primary: #fafafa;
      --bg-secondary: #ffffff;
      --bg-tertiary: #f8f9fa;
      --text-primary: #262626;
      --text-secondary: #8e8e8e;
      --border-color: #dbdbdb;
      --shadow: rgba(0, 0, 0, 0.1);
      --container-bg: rgba(255, 255, 255, 0.95);
      --stars-bg: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 50%, #90caf9 100%);
      --welcome-bg: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
    }

    /* Instagram-like Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--stars-bg);
      color: var(--text-primary);
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
      transition: all 0.3s ease;
    }

    /* Animated Stars Background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      z-index: -1;
      animation: twinkle 4s ease-in-out infinite alternate;
    }

    /* Stars */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: sparkle 3s infinite;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
    }

    [data-theme="light"] .star {
      background: #1976d2;
      box-shadow: 0 0 4px rgba(25, 118, 210, 0.3);
    }

    /* Different star sizes and effects */
    .star:nth-child(odd) {
      animation: sparkle 2s infinite;
    }

    .star:nth-child(even) {
      animation: sparkle 4s infinite;
    }

    .star:nth-child(3n) {
      animation: sparkle 1.5s infinite;
    }

    .star:nth-child(5n) {
      animation: sparkle 3.5s infinite;
    }

    .star:nth-child(1) { top: 15%; left: 5%; width: 2px; height: 2px; animation-delay: 0s; }
    .star:nth-child(2) { top: 25%; left: 15%; width: 1px; height: 1px; animation-delay: 0.5s; }
    .star:nth-child(3) { top: 10%; left: 25%; width: 3px; height: 3px; animation-delay: 1s; }
    .star:nth-child(4) { top: 35%; left: 35%; width: 1px; height: 1px; animation-delay: 1.5s; }
    .star:nth-child(5) { top: 20%; left: 45%; width: 2px; height: 2px; animation-delay: 2s; }
    .star:nth-child(6) { top: 5%; left: 55%; width: 1px; height: 1px; animation-delay: 0.3s; }
    .star:nth-child(7) { top: 40%; left: 65%; width: 2px; height: 2px; animation-delay: 1.2s; }
    .star:nth-child(8) { top: 30%; left: 75%; width: 1px; height: 1px; animation-delay: 2.3s; }
    .star:nth-child(9) { top: 50%; left: 85%; width: 3px; height: 3px; animation-delay: 0.8s; }
    .star:nth-child(10) { top: 8%; left: 95%; width: 1px; height: 1px; animation-delay: 1.8s; }
    .star:nth-child(11) { top: 45%; left: 12%; width: 2px; height: 2px; animation-delay: 0.7s; }
    .star:nth-child(12) { top: 60%; left: 28%; width: 1px; height: 1px; animation-delay: 2.1s; }
    .star:nth-child(13) { top: 70%; left: 42%; width: 2px; height: 2px; animation-delay: 0.4s; }
    .star:nth-child(14) { top: 80%; left: 58%; width: 1px; height: 1px; animation-delay: 1.6s; }
    .star:nth-child(15) { top: 75%; left: 72%; width: 3px; height: 3px; animation-delay: 0.9s; }
    .star:nth-child(16) { top: 85%; left: 88%; width: 1px; height: 1px; animation-delay: 2.5s; }
    .star:nth-child(17) { top: 12%; left: 8%; width: 2px; height: 2px; animation-delay: 1.3s; }
    .star:nth-child(18) { top: 65%; left: 18%; width: 1px; height: 1px; animation-delay: 0.6s; }
    .star:nth-child(19) { top: 55%; left: 38%; width: 2px; height: 2px; animation-delay: 2.2s; }
    .star:nth-child(20) { top: 90%; left: 48%; width: 1px; height: 1px; animation-delay: 1.1s; }

    /* Welcome Overlay - Same as Instagram Background */
    .welcome-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--stars-bg);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.5s ease;
      overflow: hidden;
    }

    /* Welcome Background Stars - Same as Main Stars */
    .welcome-overlay::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      z-index: -1;
    }

    /* Welcome Stars */
    .welcome-stars {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .welcome-stars .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: sparkle 3s infinite;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
    }

    [data-theme="light"] .welcome-stars .star {
      background: #1976d2;
      box-shadow: 0 0 4px rgba(25, 118, 210, 0.3);
    }

    /* Different star sizes and effects for welcome */
    .welcome-stars .star:nth-child(odd) {
      animation: sparkle 2s infinite;
    }

    .welcome-stars .star:nth-child(even) {
      animation: sparkle 4s infinite;
    }

    .welcome-stars .star:nth-child(3n) {
      animation: sparkle 1.5s infinite;
    }

    .welcome-stars .star:nth-child(5n) {
      animation: sparkle 3.5s infinite;
    }

    .welcome-stars .star:nth-child(1) { top: 15%; left: 5%; width: 2px; height: 2px; animation-delay: 0s; }
    .welcome-stars .star:nth-child(2) { top: 25%; left: 15%; width: 1px; height: 1px; animation-delay: 0.5s; }
    .welcome-stars .star:nth-child(3) { top: 10%; left: 25%; width: 3px; height: 3px; animation-delay: 1s; }
    .welcome-stars .star:nth-child(4) { top: 35%; left: 35%; width: 1px; height: 1px; animation-delay: 1.5s; }
    .welcome-stars .star:nth-child(5) { top: 20%; left: 45%; width: 2px; height: 2px; animation-delay: 2s; }
    .welcome-stars .star:nth-child(6) { top: 5%; left: 55%; width: 1px; height: 1px; animation-delay: 0.3s; }
    .welcome-stars .star:nth-child(7) { top: 40%; left: 65%; width: 2px; height: 2px; animation-delay: 1.2s; }
    .welcome-stars .star:nth-child(8) { top: 30%; left: 75%; width: 1px; height: 1px; animation-delay: 2.3s; }
    .welcome-stars .star:nth-child(9) { top: 50%; left: 85%; width: 3px; height: 3px; animation-delay: 0.8s; }
    .welcome-stars .star:nth-child(10) { top: 8%; left: 95%; width: 1px; height: 1px; animation-delay: 1.8s; }
    .welcome-stars .star:nth-child(11) { top: 45%; left: 12%; width: 2px; height: 2px; animation-delay: 0.7s; }
    .welcome-stars .star:nth-child(12) { top: 60%; left: 28%; width: 1px; height: 1px; animation-delay: 2.1s; }
    .welcome-stars .star:nth-child(13) { top: 70%; left: 42%; width: 2px; height: 2px; animation-delay: 0.4s; }
    .welcome-stars .star:nth-child(14) { top: 80%; left: 58%; width: 1px; height: 1px; animation-delay: 1.6s; }
    .welcome-stars .star:nth-child(15) { top: 75%; left: 72%; width: 3px; height: 3px; animation-delay: 0.9s; }
    .welcome-stars .star:nth-child(16) { top: 85%; left: 88%; width: 1px; height: 1px; animation-delay: 2.5s; }
    .welcome-stars .star:nth-child(17) { top: 12%; left: 8%; width: 2px; height: 2px; animation-delay: 1.3s; }
    .welcome-stars .star:nth-child(18) { top: 65%; left: 18%; width: 1px; height: 1px; animation-delay: 0.6s; }
    .welcome-stars .star:nth-child(19) { top: 55%; left: 38%; width: 2px; height: 2px; animation-delay: 2.2s; }
    .welcome-stars .star:nth-child(20) { top: 90%; left: 48%; width: 1px; height: 1px; animation-delay: 1.1s; }

    .welcome-screen {
      display: none;
      text-align: center;
      padding: 2rem;
      max-width: 500px;
      animation: fadeInUp 1s ease-out;
    }

    .welcome-screen.active {
      display: block;
    }

    .welcome-content {
      background: rgba(26, 26, 46, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 3rem 2rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    [data-theme="light"] .welcome-content {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .welcome-title {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ffa8a8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: pulse 2s infinite;
    }

    .welcome-subtitle {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 2rem;
      font-weight: 300;
    }

    .welcome-arrow {
      font-size: 2rem;
      color: rgba(255, 255, 255, 0.8);
      animation: bounce 2s infinite;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .welcome-arrow:hover {
      transform: scale(1.2);
      color: white;
    }

    .welcome-enter-btn {
      background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
      border: none;
      padding: 1rem 2rem;
      border-radius: 50px;
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
    }

    .welcome-enter-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 30px rgba(255, 107, 107, 0.4);
    }

    .welcome-music-btn {
      background: linear-gradient(45deg, #667eea, #764ba2);
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
      margin: 0 auto 1.5rem auto;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      justify-content: center;
    }

    .welcome-music-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 25px rgba(102, 126, 234, 0.4);
    }

    .welcome-music-btn i {
      font-size: 1.1rem;
    }

    /* Special Stars for Welcome Screen 2 */
    .welcome-special-stars {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .special-star {
      font-size: 2rem;
      animation: float 3s ease-in-out infinite;
    }

    .special-star:nth-child(1) { animation-delay: 0s; }
    .special-star:nth-child(2) { animation-delay: 0.5s; }
    .special-star:nth-child(3) { animation-delay: 1s; }
    .special-star:nth-child(4) { animation-delay: 1.5s; }

    /* Moon Scene for Welcome Screen 3 */
    .welcome-moon-scene {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
      position: relative;
    }

    .moon {
      font-size: 3rem;
      animation: float 4s ease-in-out infinite;
    }

    .cloud {
      font-size: 1.5rem;
      animation: drift 3s ease-in-out infinite;
    }

    .cloud-1 {
      animation-delay: 0.5s;
    }

    .cloud-2 {
      animation-delay: 1.5s;
    }

    /* Final Scene for Welcome Screen 4 */
    .welcome-final-scene {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .final-heart {
      font-size: 4rem;
      animation: heartbeat 2s ease-in-out infinite;
    }

    .final-text {
      font-size: 1.5rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
      animation: pulse 2s infinite;
    }

    /* Welcome Animations */
    .welcome-hearts {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .heart {
      font-size: 2rem;
      animation: float 3s ease-in-out infinite;
    }

    .heart:nth-child(1) { animation-delay: 0s; }
    .heart:nth-child(2) { animation-delay: 0.5s; }
    .heart:nth-child(3) { animation-delay: 1s; }
    .heart:nth-child(4) { animation-delay: 1.5s; }
    .heart:nth-child(5) { animation-delay: 2s; }

    .welcome-stars {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .star {
      font-size: 2rem;
      animation: twinkle 2s ease-in-out infinite;
    }

    .star:nth-child(1) { animation-delay: 0s; }
    .star:nth-child(2) { animation-delay: 0.3s; }
    .star:nth-child(3) { animation-delay: 0.6s; }
    .star:nth-child(4) { animation-delay: 0.9s; }

    .welcome-moon {
      position: relative;
      margin-bottom: 2rem;
    }

    .moon {
      font-size: 4rem;
      animation: float 3s ease-in-out infinite;
    }

    .cloud {
      position: absolute;
      font-size: 1.5rem;
      color: rgba(255, 255, 255, 0.7);
      animation: drift 4s ease-in-out infinite;
    }

    .cloud:nth-child(2) {
      top: -10px;
      left: -30px;
      animation-delay: 0s;
    }

    .cloud:nth-child(3) {
      top: -10px;
      right: -30px;
      animation-delay: 1s;
    }

    .welcome-final {
      margin-bottom: 2rem;
    }

    .final-heart {
      font-size: 4rem;
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    .final-text {
      font-size: 1.5rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
      margin-top: 1rem;
    }

    /* Instagram Container */
    .instagram-container {
      max-width: 614px;
      margin: 0 auto;
      background: var(--container-bg);
      min-height: 100vh;
      backdrop-filter: blur(10px);
      border-radius: 0;
      box-shadow: 0 0 20px var(--shadow);
      transition: all 0.3s ease;
    }

    /* Stories Section */
    .stories-section {
      display: flex;
      padding: 1rem;
      gap: 1rem;
      overflow-x: auto;
      border-bottom: 1px solid var(--border-color);
      background: var(--bg-secondary);
      margin-bottom: 0.5rem;
    }

    .story-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 80px;
      cursor: pointer;
    }

    .story-circle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
      padding: 2px;
      margin-bottom: 0.5rem;
    }

    .story-image {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
    }

    .story-username {
      font-size: 0.8rem;
      color: var(--text-primary);
      text-align: center;
    }

    /* Feed Posts */
    .feed-posts {
      padding: 0;
      margin-top: 0.5rem;
    }

    .post {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 0;
      margin-bottom: 1rem;
      overflow: hidden;
    }

    .post-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    .post-user-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .post-profile-img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
    }

    .post-user-details {
      display: flex;
      flex-direction: column;
    }

    .post-username {
      font-weight: 600;
      color: var(--text-primary);
      font-size: 0.9rem;
    }

    .post-location {
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    .post-options {
      color: var(--text-primary);
      cursor: pointer;
    }

    .post-image {
      width: 100%;
      aspect-ratio: 1;
      overflow: hidden;
    }

    .post-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Post 3 specific styling - no crop */
    .post:nth-child(3) .post-img {
      object-fit: contain;
      background: #000;
      padding: 10px;
      box-sizing: border-box;
    }

    /* Alternative: Target by image src */
    .post-img[src*="post3.jpg"] {
      object-fit: contain !important;
      background: #000;
      padding: 10px;
      box-sizing: border-box;
    }

    .post-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    .post-actions-left {
      display: flex;
      gap: 1rem;
    }

    .action-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .action-btn:hover {
      transform: scale(1.1);
    }

    .like-btn.liked {
      color: #ff3040;
    }

    .post-content {
      padding: 0 1rem 1rem;
    }

    .post-likes {
      margin-bottom: 0.5rem;
    }

    .likes-count {
      font-weight: 600;
      color: var(--text-primary);
      font-size: 0.9rem;
    }

    .post-caption {
      margin-bottom: 0.5rem;
    }

    .post-text {
      color: var(--text-primary);
      line-height: 1.4;
    }

    .post-comments {
      margin-bottom: 0.5rem;
    }

    .comment {
      margin-bottom: 0.25rem;
    }

    .comment-username {
      font-weight: 600;
      color: var(--text-primary);
      margin-right: 0.5rem;
      font-size: 0.9rem;
    }

    .comment-text {
      color: var(--text-primary);
      font-size: 0.9rem;
    }

    .post-time {
      font-size: 0.8rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Theme Toggle */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1001;
      background: var(--container-bg);
      border: 1px solid var(--border-color);
      border-radius: 50px;
      padding: 0.75rem;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    .theme-toggle i {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    /* Audio Player */
    .audio-player {
      position: fixed;
      bottom: 20px;
      left: 20px;
      right: 20px;
      z-index: 1001;
      background: var(--container-bg);
      border: 1px solid var(--border-color);
      border-radius: 50px;
      padding: 1rem 1.5rem;
      backdrop-filter: blur(20px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      max-width: 400px;
      margin: 0 auto;
    }

    .audio-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .audio-btn {
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0.5rem;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .audio-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: scale(1.1);
    }

    .audio-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .audio-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-primary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .audio-progress {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
      cursor: pointer;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
      border-radius: 2px;
      width: 0%;
      transition: width 0.1s ease;
    }

    /* Audio Player Animations */
    .audio-player.playing .progress-bar {
      animation: progressGlow 2s ease-in-out infinite;
    }

    @keyframes progressGlow {
      0%, 100% { box-shadow: 0 0 5px rgba(255, 107, 107, 0.5); }
      50% { box-shadow: 0 0 15px rgba(255, 107, 107, 0.8); }
    }

    /* Responsive Audio Player */
    @media (max-width: 768px) {
      .audio-player {
        left: 10px;
        right: 10px;
        padding: 0.75rem 1rem;
      }

      .audio-title {
        font-size: 0.8rem;
      }

      .audio-btn {
        font-size: 1rem;
        width: 35px;
        height: 35px;
      }
    }

    /* Animations */
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    @keyframes sparkle {
      0%, 100% { 
        opacity: 0.2; 
        transform: scale(1); 
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.3);
      }
      25% { 
        opacity: 0.8; 
        transform: scale(1.3); 
        box-shadow: 0 0 12px rgba(255, 255, 255, 0.8);
      }
      50% { 
        opacity: 1; 
        transform: scale(1.5); 
        box-shadow: 0 0 20px rgba(255, 255, 255, 1);
      }
      75% { 
        opacity: 0.6; 
        transform: scale(1.2); 
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes drift {
      0%, 100% { transform: translateX(0px); }
      50% { transform: translateX(10px); }
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Spotify Embed Section */
    .spotify-embed-section {
      background: var(--bg-color);
      padding: 1rem;
      margin: 0.5rem auto;
      max-width: 500px;
      border-radius: 15px;
      text-align: center;
      border: 1px solid var(--border-color);
    }

    .playlist-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-color);
    }

    .playlist-header i {
      font-size: 1.5rem;
      color: #1db954;
    }

    .spotify-player {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .spotify-player iframe {
      border-radius: 12px;
    }

    .playlist-message {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 0.1rem;
      padding: 0.5rem;
      background: rgba(29, 185, 84, 0.1);
      border-radius: 10px;
      border: 1px solid rgba(29, 185, 84, 0.2);
    }

    .message-icon {
      font-size: 2rem;
      animation: heartbeat 2s ease-in-out infinite;
    }

    .message-text {
      flex: 1;
      text-align: left;
    }

    .message-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-color);
      margin: 0 0 0.25rem 0;
    }

    .message-subtitle {
      font-size: 0.9rem;
      color: var(--text-color-secondary);
      margin: 0;
      opacity: 0.8;
    }

    /* Disclaimer Section */
    .disclaimer-section {
      background: var(--bg-color);
      padding: 2rem 1rem;
      margin-top: 2rem;
      border-top: 1px solid var(--border-color);
    }

    .disclaimer-content {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .disclaimer-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      animation: heartbeat 2s ease-in-out infinite;
    }

    .disclaimer-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-color);
      margin: 0 0 1rem 0;
    }

    .disclaimer-subtitle {
      font-size: 1rem;
      color: var(--text-color-secondary);
      line-height: 1.6;
      margin: 0 0 1.5rem 0;
      opacity: 0.9;
    }

    .disclaimer-footer {
      padding-top: 1rem;
      border-top: 1px solid var(--border-color);
    }

    .disclaimer-date {
      font-size: 0.9rem;
      color: var(--text-color-secondary);
      font-style: italic;
      opacity: 0.8;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .instagram-container {
        max-width: 100%;
      }

      .welcome-content {
        padding: 2rem 1rem;
        margin: 1rem;
      }

      .welcome-title {
        font-size: 2rem;
      }

      .welcome-subtitle {
        font-size: 1rem;
      }

      .spotify-embed-section {
        margin: 1rem;
        padding: 1.5rem 1rem;
        max-width: 100%;
      }

      .spotify-player iframe {
        height: 300px;
      }

      .playlist-message {
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
        padding: 0.75rem;
      }

      .message-text {
        text-align: center;
      }

      .message-title {
        font-size: 1rem;
      }

      .message-subtitle {
        font-size: 0.8rem;
      }

      .disclaimer-section {
        padding: 1.5rem 1rem;
        margin-top: 1rem;
      }

      .disclaimer-title {
        font-size: 1.3rem;
      }

      .disclaimer-subtitle {
        font-size: 0.9rem;
      }

      .disclaimer-icon {
        font-size: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Animated Stars Background -->
  <div class="stars">
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
  </div>

  <!-- Theme Toggle -->
  <div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-sun" id="themeIcon"></i>
  </div>

  <!-- Audio Player -->
  <div class="audio-player" id="audioPlayer">
    <div class="audio-controls">
      <button class="audio-btn" id="playPauseBtn" onclick="toggleAudio()">
        <i class="fas fa-play" id="playIcon"></i>
      </button>
      <div class="audio-info">
        <span class="audio-title">Take a Chance with Me</span>
        <div class="audio-progress">
          <div class="progress-bar" id="progressBar"></div>
        </div>
      </div>
      <button class="audio-btn" onclick="toggleMute()">
        <i class="fas fa-volume-up" id="volumeIcon"></i>
      </button>
      <button class="audio-btn" onclick="jumpToChorusManual()" title="Jump to Chorus">
        <i class="fas fa-forward"></i>
      </button>
    </div>
  </div>

  <!-- Hidden Audio Element -->
  <audio id="backgroundAudio" preload="auto" loop muted autoplay>
    <source src="images/take-a-chance-with-me.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <!-- Welcome Popup Overlay -->
  <div class="welcome-overlay" id="welcomeOverlay">
    <!-- Welcome Stars Background -->
    <div class="welcome-stars">
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
    </div>
    <!-- Welcome Screen 1 -->
    <div class="welcome-screen active" id="welcome1">
      <div class="welcome-content">
        <div class="welcome-hearts">
          <div class="heart">💖</div>
          <div class="heart">💕</div>
          <div class="heart">💗</div>
          <div class="heart">💝</div>
          <div class="heart">💘</div>
        </div>
        <h1 class="welcome-title">Haloooooo...</h1>
        <p class="welcome-subtitle">Ada sesuatu yang ingin aku sampaikan</p>
        <button class="welcome-music-btn" onclick="startMusic()">
          <i class="fas fa-music"></i>
          Putar Lagu
        </button>
        <div class="welcome-arrow" onclick="nextWelcome()">
          <i class="fas fa-arrow-down"></i>
        </div>
      </div>
    </div>

    <!-- Welcome Screen 2 -->
    <div class="welcome-screen" id="welcome2">
      <div class="welcome-content">
        <div class="welcome-special-stars">
          <div class="special-star">✨</div>
          <div class="special-star">⭐</div>
          <div class="special-star">🌟</div>
          <div class="special-star">💫</div>
        </div>
        <h1 class="welcome-title">I Saw Everything</h1>
        <p class="welcome-subtitle">Whatever do u posted it on your whatsapp status, and ur channel in whatsapp i saw it all,what u feel, what u think, i saw it all. Whatever u do, i saw it all. I saw everything.</p>
        <div class="welcome-arrow" onclick="nextWelcome()">
          <i class="fas fa-arrow-down"></i>
        </div>
      </div>
    </div>

    <!-- Welcome Screen 3 -->
    <div class="welcome-screen" id="welcome3">
      <div class="welcome-content">
        <div class="welcome-moon-scene">
          <div class="moon">🌙</div>
          <div class="cloud cloud-1">☁️</div>
          <div class="cloud cloud-2">☁️</div>
        </div>
        <h1 class="welcome-title">Aku Buat Website Ini Untuk Kamu</h1>
        <p class="welcome-subtitle">Aku ingin kamu tau seberapa berharga kamu, jangan suka nangis or think bad things at night, sleep well. i saw everything, kamu dulu suka ngode lewat sw, channel, kamu bilang aku lucu karena aku tampil pas p5 kelas 11, i know it rev, ur channel, when u looked at me, i know it</p>
        <div class="welcome-arrow" onclick="nextWelcome()">
          <i class="fas fa-arrow-down"></i>
        </div>
      </div>
    </div>

    <!-- Welcome Screen 4 -->
    <div class="welcome-screen" id="welcome4">
      <div class="welcome-content">
        <div class="welcome-final-scene">
          <div class="final-heart">💖</div>
          <div class="final-text">For ur Effort, and ur dedication and patience for me</div>
        </div>
        <h1 class="welcome-title">For u</h1>
        <p class="welcome-subtitle">aku udah buat website untuk mengenang masa lalu yang berharga, ini aku buat website untuk nebus my fault, karena aku bukan tipe orang yang suka ngeliatin kalo aku suka atau tipe orang yang keliatan banget kalo aku suka, im just an introvert man who want the best for u, i mean, i can't do many things but, for redeem it, i created this website for u, enjoy it Klik untuk melihat lebih lanjut...</p>
        <button class="welcome-enter-btn" onclick="enterInstagram()">
          <i class="fas fa-heart"></i>
          Masuk
        </button>
      </div>
    </div>
  </div>

  <!-- Instagram Feed (Hidden initially) -->
  <div class="instagram-container" id="instagramContainer" style="display: none;">
    <!-- Stories Section -->
    <div class="stories-section">
      <div class="story-item">
        <div class="story-circle">
          <img src="images/placeholder.svg" alt="Story" class="story-image">
        </div>
        <span class="story-username">Khusus</span>
      </div>
      <div class="story-item">
        <div class="story-circle">
          <img src="images/placeholder.svg" alt="Story" class="story-image">
        </div>
        <span class="story-username">Untuk</span>
      </div>
      <div class="story-item">
        <div class="story-circle">
          <img src="images/placeholder.svg" alt="Story" class="story-image">
        </div>
        <span class="story-username">Kamu <3 </span>
      </div>
    </div>

    <!-- Spotify Playlist Embed -->
    <div class="spotify-embed-section">
      <div class="playlist-header">
        <i class="fab fa-spotify"></i>
        <span>Ur Playlist</span>
      </div>
      <div class="spotify-player">
        <iframe 
          src="https://open.spotify.com/embed/playlist/05OP9IHw9m9EwV1DE0X4VS?utm_source=generator&theme=0" 
          width="100%" 
          height="352" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
          loading="lazy">
        </iframe>
      </div>
      <div class="playlist-message">
        <div class="message-icon">💕</div>
        <div class="message-text">
          <p class="message-title">Your playlist that i know it</p>
          <p class="message-subtitle">keren keren lagu nya, i know ak gaseberapa ada di playlistnya but its cool tho</p>
        </div>
      </div>
    </div>

    <!-- Your Personal Playlist -->
    <div class="spotify-embed-section">
      <div class="playlist-header">
        <i class="fab fa-spotify"></i>
        <span>My Playlist for You</span>
      </div>
      <div class="spotify-player">
        <iframe 
          src="https://open.spotify.com/embed/playlist/4z5kkiJVJJhyhzd15RdJdG?si=UCwuqpc1RxWRxnmeHLyMrA?utm_source=generator&theme=0" 
          width="100%" 
          height="352" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
          loading="lazy">
        </iframe>
      </div>
      <div class="playlist-message">
        <div class="message-icon">🎵</div>
        <div class="message-text">
          <p class="message-title"></p>My Playlist for You</p>
          <p class="message-subtitle">aku simpen kamu di lagu-lagu ini, masi dikit but, im try to add it as much as i can</p>
        </div>
      </div>
    </div>

    <!-- Feed Posts -->
    <div class="feed-posts">
      <!-- Post 1 -->
      <div class="post">
        <div class="post-header">
          <div class="post-user-info">
            <img src="images/placeholder.svg" alt="Profile" class="post-profile-img">
            <div class="post-user-details">
              <span class="post-username">For u</span>
              <span class="post-location">Beautiful Moon</span>
            </div>
          </div>
          <div class="post-options">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="post-image">
          <img src="images/post1.jpg" alt="Post" class="post-img">
        </div>
        
        <div class="post-actions">
          <div class="post-actions-left">
            <button class="action-btn like-btn">
              <i class="far fa-heart"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-comment"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-paper-plane"></i>
            </button>
          </div>
          <div class="post-actions-right">
            <button class="action-btn">
              <i class="far fa-bookmark"></i>
            </button>
          </div>
        </div>
        
        <div class="post-content">
          <div class="post-likes">
            <span class="likes-count">1,337 likes</span>
          </div>
          <div class="post-caption">
            <span class="post-username">For u</span>
            <span class="post-text">If u someday missed me, or u didn't miss me, just look at the moon and i will there for u💕</span>
          </div>
          <div class="post-comments">
            <div class="comment">
              <span class="comment-text">See all comments</span>
            </div>
          </div>
          <div class="post-time">1 week ago</div>
        </div>
      </div>

      <!-- Post 2 -->
      <div class="post">
        <div class="post-header">
          <div class="post-user-info">
            <img src="images/placeholder.svg" alt="Profile" class="post-profile-img">
            <div class="post-user-details">
              <span class="post-username">For u</span>
              <span class="post-location">Pra-P3K 2024</span>
            </div>
          </div>
          <div class="post-options">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="post-image">
          <img src="images/post2.jpg" alt="Post" class="post-img">
        </div>
        
        <div class="post-actions">
          <div class="post-actions-left">
            <button class="action-btn like-btn">
              <i class="far fa-heart"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-comment"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-paper-plane"></i>
            </button>
          </div>
          <div class="post-actions-right">
            <button class="action-btn">
              <i class="far fa-bookmark"></i>
            </button>
          </div>
        </div>
        
        <div class="post-content">
          <div class="post-likes">
            <span class="likes-count">2,024 likes</span>
          </div>
          <div class="post-caption">
            <span class="post-username">For u</span>
            <span class="post-text">Seru ga sih, inget inget moment ini, mau throwback, seseru itu dulu kitaaa...</span>
          </div>
          <div class="post-comments">
            <div class="comment">
              <span class="comment-text">See all comments</span>
            </div>
          </div>
          <div class="post-time">1 year ago</div>
        </div>
      </div>

      <!-- Post 3 -->
      <div class="post">
        <div class="post-header">
          <div class="post-user-info">
            <img src="images/placeholder.svg" alt="Profile" class="post-profile-img">
            <div class="post-user-details">
              <span class="post-username">For u</span>
              <span class="post-location">The Inspiration</span>
            </div>
          </div>
          <div class="post-options">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="post-image">
          <img src="images/post3.jpg" alt="Post" class="post-img">
        </div>
        
        <div class="post-actions">
          <div class="post-actions-left">
            <button class="action-btn like-btn">
              <i class="far fa-heart"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-comment"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-paper-plane"></i>
            </button>
          </div>
          <div class="post-actions-right">
            <button class="action-btn">
              <i class="far fa-bookmark"></i>
            </button>
          </div>
        </div>
        
        <div class="post-content">
          <div class="post-likes">
            <span class="likes-count">3,141 likes</span>
          </div>
          <div class="post-caption">
            <span class="post-username">For u</span>
            <span class="post-text">aku terinsipirasi dari postingan ig mu tentang bulan, menurutku bulan itu sangat indah dan punya banyak makna💫</span>
          </div>
          <div class="post-comments">
            <div class="comment">
              <span class="comment-text">See all comments</span>
            </div>
          </div>
          <div class="post-time">September 25, 2024</div>
        </div>
      </div>

      <!-- Post 4 -->
      <div class="post">
        <div class="post-header">
          <div class="post-user-info">
            <img src="images/placeholder.svg" alt="Profile" class="post-profile-img">
            <div class="post-user-details">
              <span class="post-username">For u</span>
              <span class="post-location">Dreams</span>
            </div>
          </div>
          <div class="post-options">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="post-image">
          <img src="images/post4.jpg" alt="Post" class="post-img">
        </div>
        
        <div class="post-actions">
          <div class="post-actions-left">
            <button class="action-btn like-btn">
              <i class="far fa-heart"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-comment"></i>
            </button>
            <button class="action-btn">
              <i class="far fa-paper-plane"></i>
            </button>
          </div>
          <div class="post-actions-right">
            <button class="action-btn">
              <i class="far fa-bookmark"></i>
            </button>
          </div>
        </div>
        
        <div class="post-content">
          <div class="post-likes">
            <span class="likes-count">4,200 likes</span>
          </div>
          <div class="post-caption">
            <span class="post-username">For u</span>
            <span class="post-text">Iseng aja pake gemini, eh hasilnya bagus banget, meskipun gk terlalu mirip yaa kurang lebih kaya gini laa💫</span>
          </div>
          <div class="post-comments">
            <div class="comment">
              <span class="comment-text">See all comments</span>
            </div>
          </div>
          <div class="post-time">1 day ago</div>
        </div>
    </div>
  </div>

  <!-- Disclaimer Section -->
  <div class="disclaimer-section">
    <div class="disclaimer-content">
      <div class="disclaimer-icon">💝</div>
      <div class="disclaimer-text">
        <h3 class="disclaimer-title">Disclaimer</h3>
        <p class="disclaimer-subtitle">Website ini dibuat sekitar kurang lebih 1 bulan. Semua konten, musik, dan momen yang dibagikan di sini adalah bagian dari kenangan yang berharga. Aku tau kamu mungkin udah gaada rasa dan kamu sudah nemuin orang baru, dan aku tau. kemungkinan besar kamu udah nemuin orang baru dan aku ga permasalahin sama sekali, aku buat website ini cuman buat kenangan dan redeem my fault, so be happy ya rev, jangan suka nangis dll, you're worthy.💕</p>
        <div class="disclaimer-footer">
          <span class="disclaimer-date">Made with ❤️ for you</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Welcome Screen Navigation
    let currentWelcome = 1;
    const totalWelcomes = 4;
    let isMusicPlaying = false;
    let isMusicStarted = false;

    // Audio Elements
    const audio = document.getElementById('backgroundAudio');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playIcon = document.getElementById('playIcon');
    const progressBar = document.getElementById('progressBar');
    const audioPlayer = document.getElementById('audioPlayer');
    const volumeIcon = document.getElementById('volumeIcon');

    function nextWelcome() {
      if (currentWelcome < totalWelcomes) {
        // Hide current screen
        document.getElementById(`welcome${currentWelcome}`).classList.remove('active');
        
        // Show next screen
        currentWelcome++;
        document.getElementById(`welcome${currentWelcome}`).classList.add('active');
      }
    }

    function enterInstagram() {
      // Hide welcome overlay
      document.getElementById('welcomeOverlay').style.display = 'none';
      
      // Show Instagram container
      document.getElementById('instagramContainer').style.display = 'block';
      
      // Add fade in animation
      document.getElementById('instagramContainer').style.animation = 'fadeInUp 1s ease-out';
    }

    // Music Functions
    function startMusic() {
      if (!isMusicStarted) {
        isMusicStarted = true;
        audio.play().then(() => {
          isMusicPlaying = true;
          updatePlayButton();
          audioPlayer.classList.add('playing');
        }).catch(error => {
          console.log('Autoplay blocked:', error);
          // Show manual play button
          showManualPlayButton();
        });
      } else {
        toggleAudio();
      }
    }

    // Enhanced Auto-play Function
    function tryAutoPlay() {
      console.log('Attempting auto-play...');
      
      // Unmute audio first
      audio.muted = false;
      audio.volume = 0.3;
      
      // Try to play immediately
      const playPromise = audio.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          console.log('Auto-play successful!');
          isMusicPlaying = true;
          isMusicStarted = true;
          updatePlayButton();
          audioPlayer.classList.add('playing');
          
          // Jump to chorus after a short delay
          setTimeout(() => {
            jumpToChorus();
          }, 500);
          
          // Increase volume after successful play
          setTimeout(() => {
            audio.volume = 0.7;
          }, 1000);
        }).catch(error => {
          console.log('Auto-play failed:', error.name);
          
          // Try different strategies based on error type
          if (error.name === 'NotAllowedError') {
            console.log('Autoplay blocked by browser policy');
            showManualPlayButton();
          } else if (error.name === 'NotSupportedError') {
            console.log('Audio format not supported');
            showManualPlayButton();
          } else {
            console.log('Other error, retrying...');
            // Try again after a short delay
            setTimeout(() => {
              if (!isMusicStarted) {
                tryAutoPlay();
              }
            }, 500);
          }
        });
      } else {
        console.log('Play promise undefined, retrying...');
        setTimeout(() => {
          if (!isMusicStarted) {
            tryAutoPlay();
          }
        }, 500);
      }
    }

    // Jump to Chorus Function
    function jumpToChorus() {
      // Chorus "oh why cant we for once" starts at 1:37 (97 seconds)
      const chorusStartTime = 97; // seconds - 1:37
      
      if (audio.duration && audio.duration > chorusStartTime) {
        audio.currentTime = chorusStartTime;
        console.log('Jumped to chorus at', chorusStartTime, 'seconds');
      } else {
        console.log('Audio not ready yet, will retry...');
        // Retry after audio is fully loaded
        setTimeout(() => {
          if (audio.duration && audio.duration > chorusStartTime) {
            audio.currentTime = chorusStartTime;
            console.log('Jumped to chorus at', chorusStartTime, 'seconds (retry)');
          }
        }, 1000);
      }
    }

    // Manual jump to chorus function (for testing)
    function jumpToChorusManual() {
      jumpToChorus();
    }


    function toggleAudio() {
      if (isMusicPlaying) {
        audio.pause();
        isMusicPlaying = false;
        audioPlayer.classList.remove('playing');
      } else {
        audio.play().then(() => {
          isMusicPlaying = true;
          audioPlayer.classList.add('playing');
        }).catch(error => {
          console.log('Play failed:', error);
        });
      }
      updatePlayButton();
    }

    function updatePlayButton() {
      if (isMusicPlaying) {
        playIcon.className = 'fas fa-pause';
      } else {
        playIcon.className = 'fas fa-play';
      }
    }

    function toggleMute() {
      if (audio.muted) {
        audio.muted = false;
        volumeIcon.className = 'fas fa-volume-up';
      } else {
        audio.muted = true;
        volumeIcon.className = 'fas fa-volume-mute';
      }
    }

    function showManualPlayButton() {
      // Show a notification or change the button text
      const musicBtn = document.querySelector('.welcome-music-btn');
      if (musicBtn) {
        musicBtn.innerHTML = '<i class="fas fa-play"></i> Klik untuk Memulai Lagu';
        musicBtn.style.background = 'linear-gradient(45deg, #ff6b6b, #ff8e8e)';
      }
    }

    // Audio Event Listeners
    audio.addEventListener('timeupdate', function() {
      if (audio.duration) {
        const progress = (audio.currentTime / audio.duration) * 100;
        progressBar.style.width = progress + '%';
      }
    });

    audio.addEventListener('ended', function() {
      isMusicPlaying = false;
      updatePlayButton();
      audioPlayer.classList.remove('playing');
    });

    audio.addEventListener('loadstart', function() {
      console.log('Audio loading started');
    });

    audio.addEventListener('loadeddata', function() {
      console.log('Audio loaded successfully');
      // Try auto-play when audio is loaded
      if (!isMusicStarted) {
        setTimeout(() => {
          tryAutoPlay();
        }, 200);
      }
    });

    audio.addEventListener('canplaythrough', function() {
      console.log('Audio can play through');
      // Try auto-play when audio is ready
      if (!isMusicStarted) {
        setTimeout(() => {
          tryAutoPlay();
        }, 100);
      }
    });

    audio.addEventListener('error', function(e) {
      console.error('Audio error:', e);
      showManualPlayButton();
    });

    // Progress Bar Click
    document.querySelector('.audio-progress').addEventListener('click', function(e) {
      if (audio.duration) {
        const rect = this.getBoundingClientRect();
        const clickX = e.clientX - rect.left;
        const percentage = clickX / rect.width;
        audio.currentTime = percentage * audio.duration;
      }
    });

    // Theme Toggle
    function toggleTheme() {
      const body = document.body;
      const themeIcon = document.getElementById('themeIcon');
      
      if (body.getAttribute('data-theme') === 'light') {
        body.removeAttribute('data-theme');
        themeIcon.className = 'fas fa-sun';
      } else {
        body.setAttribute('data-theme', 'light');
        themeIcon.className = 'fas fa-moon';
      }
    }

    // Like Button Functionality
    document.addEventListener('DOMContentLoaded', function() {
      const likeButtons = document.querySelectorAll('.like-btn');
      
      likeButtons.forEach(button => {
        button.addEventListener('click', function() {
          this.classList.toggle('liked');
          
          if (this.classList.contains('liked')) {
            this.innerHTML = '<i class="fas fa-heart"></i>';
          } else {
            this.innerHTML = '<i class="far fa-heart"></i>';
          }
        });
      });
    });

    // Keyboard Navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowDown' || e.key === 'Enter') {
        if (document.getElementById('welcomeOverlay').style.display !== 'none') {
          if (currentWelcome < totalWelcomes) {
            nextWelcome();
          } else {
            enterInstagram();
          }
        }
      }
      
      // Space bar to play/pause music
      if (e.code === 'Space' && isMusicStarted) {
        e.preventDefault();
        toggleAudio();
      }
    });

    // Enhanced Auto-play with multiple strategies
    document.addEventListener('DOMContentLoaded', function() {
      // Strategy 1: Immediate attempt
      setTimeout(() => {
        tryAutoPlay();
      }, 100);
      
      // Strategy 2: Try after 500ms
      setTimeout(() => {
        if (!isMusicStarted) {
          tryAutoPlay();
        }
      }, 500);
      
      // Strategy 3: Try after 1s
      setTimeout(() => {
        if (!isMusicStarted) {
          tryAutoPlay();
        }
      }, 1000);
      
      // Strategy 4: Try after 2s
      setTimeout(() => {
        if (!isMusicStarted) {
          tryAutoPlay();
        }
      }, 2000);
      
      // Strategy 5: Try after 3s
      setTimeout(() => {
        if (!isMusicStarted) {
          tryAutoPlay();
        }
      }, 3000);
    });

    // Try auto-play on any user interaction
    document.addEventListener('click', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    document.addEventListener('keydown', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    document.addEventListener('touchstart', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    document.addEventListener('mousemove', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    document.addEventListener('scroll', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    // Try auto-play on window focus
    window.addEventListener('focus', function() {
      if (!isMusicStarted) {
        tryAutoPlay();
      }
    });

    // Try auto-play on page visibility change
    document.addEventListener('visibilitychange', function() {
      if (!document.hidden && !isMusicStarted) {
        tryAutoPlay();
      }
    });
  </script>
</body>
</html>